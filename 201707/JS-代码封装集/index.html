<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> JS - 代码封装集 · Niro | 逆。</title><meta name="description" content="JS - 代码封装集 - NiroDu"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="https://nirodu.com/atom.xml" title="Niro | 逆。"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="//nirodu.com/n-book" target="_self" class="nav-list-link">N-BOOK</a></li><li class="nav-list-item"><a href="https://github.com/nirodu" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><main class="container animated fadeInDown"><div class="post"><article class="post-block"><h1 class="post-title">JS - 代码封装集</h1><div class="post-info">2017年7月20日</div><div class="post-content"><p>(正在整理中..</p>
<a id="more"></a>
<h4 id="微信JS-SDK调用方式"><a href="#微信JS-SDK调用方式" class="headerlink" title="微信JS-SDK调用方式"></a>微信JS-SDK调用方式</h4><p><a href="http://203.195.235.76/jssdk/" target="_blank" rel="noopener">在线微信JS-SDK Demo</a></p>
<p><a href="http://demo.open.weixin.qq.com/jssdk/" target="_blank" rel="noopener">备用地址：在线微信JS-SDK Demo</a></p>
<h4 id="jquery如何判断滚动条滚到页面底部并执行事件"><a href="#jquery如何判断滚动条滚到页面底部并执行事件" class="headerlink" title="jquery如何判断滚动条滚到页面底部并执行事件"></a>jquery如何判断滚动条滚到页面底部并执行事件</h4><p>首先理解三个dom元素，分别是：<code>clientHeight</code>、<code>offsetHeight</code>、<code>scrollTop</code>。</p>
<p><strong>举例，如果一个DIV高度是400px（即clientHeight为400），而里面的内容是一个很长的列表，内容的高度是1000px（即offsetHeight为1000）。那么，可见部分我们看到400px，1000px的内容中还有600px不可见。而这不可见的部分呢，正是我们通过拉动滚动条才能把这一部分显示出来。你如果滚动条不拉动，此时scrollTop为0，如果你把滚动条拉到底，显示出列表最下面的部分，此时，scrollTop为600。</strong><br><strong>所以scrollTop的取值区间为[0, 600]。　所以这个600可以理解为滚动条可以滚动的长度。</strong></p>
<p>首先，我们拉动滚动条，从最上面拉到最下面，变化的是scrollTop的值，而这个值是有一个区间的。</p>
<p>这个区间是：<strong>[0, (offsetHeight - clientHeight)]</strong></p>
<p>即，滚动条拉动的整个过程的变化在 0 到 (offsetHeight – clientHeight) 范围之内。</p>
<p>1、判断滚动条滚动到最底端：scrollTop == (offsetHeight – clientHeight)</p>
<p>2、在滚动条距离底端50px以内：(offsetHeight – clientHeight) – scrollTop &lt;= 50</p>
<p>3、在滚动条距离底端5%以内：scrollTop / (offsetHeight – clientHeight) &gt;= 0.95</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">scrollBottomTest =<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;  </span><br><span class="line">     $(<span class="string">"#contain"</span>).scroll(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;  </span><br><span class="line">         <span class="keyword">var</span> $<span class="keyword">this</span> =$(<span class="keyword">this</span>),  </span><br><span class="line">         viewH = $(<span class="keyword">this</span>).height(),<span class="comment">//可见高度  </span></span><br><span class="line">         contentH = $(<span class="keyword">this</span>).get(<span class="number">0</span>).scrollHeight,<span class="comment">//内容高度  </span></span><br><span class="line">         scrollTop = $(<span class="keyword">this</span>).scrollTop();<span class="comment">//滚动高度  </span></span><br><span class="line">        <span class="comment">//if(contentH - viewH - scrollTop &lt;= 100) &#123; //到达底部100px时,加载新内容  </span></span><br><span class="line">        <span class="keyword">if</span>(scrollTop/(contentH -viewH)&gt;=<span class="number">0.95</span>)&#123; <span class="comment">//到达底部5%以内,加载新内容  </span></span><br><span class="line">        <span class="comment">// 这里加载数据..  </span></span><br><span class="line">        &#125;  </span><br><span class="line">     &#125;);  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a href="/demo/rocket/index.html">附DEMO-导航火箭</a></p>
<h4 id="js结合rem控制字体随着分辨率变化而变化"><a href="#js结合rem控制字体随着分辨率变化而变化" class="headerlink" title="js结合rem控制字体随着分辨率变化而变化"></a>js结合rem控制字体随着分辨率变化而变化</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fontSize</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> deviceWidth = $(<span class="built_in">document</span>).width();</span><br><span class="line">    <span class="keyword">if</span> (deviceWidth &gt; <span class="number">640</span>) &#123;</span><br><span class="line">        deviceWidth = <span class="number">640</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> fontSize = deviceWidth / <span class="number">6.4</span>;</span><br><span class="line">    $(<span class="string">"html"</span>).css(<span class="string">"fontSize"</span>, fontSize);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fontSize();</span><br><span class="line"></span><br><span class="line">$(<span class="built_in">window</span>).resize(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    fontSize();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p><a href="http://www.qietu.com/html/f2/ntv2rem/" target="_blank" rel="noopener">demo</a></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	$(<span class="built_in">window</span>).resize(infinite);</span><br><span class="line">	<span class="function"><span class="keyword">function</span> <span class="title">infinite</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">		<span class="keyword">var</span> htmlWidth = $(<span class="string">'html'</span>).width();</span><br><span class="line">		<span class="keyword">if</span> (htmlWidth &gt;= <span class="number">750</span>) &#123;</span><br><span class="line">			$(<span class="string">"html"</span>).css(&#123;</span><br><span class="line">				<span class="string">"font-size"</span> : <span class="string">"40px"</span></span><br><span class="line">			&#125;);</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			$(<span class="string">"html"</span>).css(&#123;</span><br><span class="line">				<span class="string">"font-size"</span> :  <span class="number">40</span> / <span class="number">750</span> * htmlWidth + <span class="string">"px"</span></span><br><span class="line">			&#125;);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">    infinite();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">video</span></span></span><br><span class="line"><span class="tag">  <span class="attr">id</span>=<span class="string">"videoALL"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">src</span>=<span class="string">"video/01.mp4"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">poster</span>=<span class="string">"images/1.jpg"</span> /*视频封面*/</span></span><br><span class="line"><span class="tag">  <span class="attr">preload</span>=<span class="string">"auto"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">webkit-playsinline</span>=<span class="string">"true"</span> /*这个属性是<span class="attr">ios</span> <span class="attr">10</span>中设置可以</span></span><br><span class="line"><span class="tag">                     让视频在小窗内播放，也就是不是全屏播放*/ </span></span><br><span class="line"><span class="tag">  <span class="attr">playsinline</span>=<span class="string">"true"</span>  /*<span class="attr">IOS</span>微信浏览器支持小窗内播放*/</span></span><br><span class="line"><span class="tag">  <span class="attr">x-webkit-airplay</span>=<span class="string">"allow"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">x5-video-player-type</span>=<span class="string">"h5"</span>  /*启用<span class="attr">H5</span>播放器,是<span class="attr">wechat</span>安卓版特性*/</span></span><br><span class="line"><span class="tag">  <span class="attr">x5-video-player-fullscreen</span>=<span class="string">"true"</span> /*全屏设置，</span></span><br><span class="line"><span class="tag">                     设置为 <span class="attr">true</span> 是防止横屏*/&gt;</span></span><br><span class="line">  x5-video-orientation="portraint" /*播放器支付的方向，</span><br><span class="line">                     landscape横屏，portraint竖屏，默认值为竖屏*/</span><br><span class="line">  style="object-fit:fill"&gt;</span><br><span class="line"><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><a href="http://www.php.cn/html5-tutorial-362962.html" target="_blank" rel="noopener">HTML5实现微信播放全屏的方法详解</a></p>
<h4 id="回调函数应用"><a href="#回调函数应用" class="headerlink" title="回调函数应用"></a>回调函数应用</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">main</span>(<span class="params">go,callback</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(go);</span><br><span class="line">    callback(<span class="string">"hahaha"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">called</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"回调函数已经调用"</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(value);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 调用主方法并使用回调函数</span></span><br><span class="line">main(<span class="string">"goValue"</span>,called);</span><br></pre></td></tr></table></figure>
<h4 id="多行文本溢出显示省略号-…-的方法"><a href="#多行文本溢出显示省略号-…-的方法" class="headerlink" title="多行文本溢出显示省略号(…)的方法"></a>多行文本溢出显示省略号(…)的方法</h4><p>除了各个浏览器私有的属性，有没有跨浏览器的解决方法呢？当然是通过js实现啦！（通过从后向前逐个删除末尾字符，直至元素的高度小于父元素高度）</p>
<p>兼容性最好的方式：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"figcaption"</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>作为微软的游戏平台，Xbox已经出现在了Windows Phone和Windows 8中，就在最近，微软宣布将旗下的Zune消费品牌也一并整合至Xbox品牌下，Xbox Live服务影响力越来越大，渗透面也越来越广。<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"figcaption"</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>You probably can't do it (currently?) without a fixed-width font like Courier. With a fixed-width font every letter occupies the same horizontal space, so you could probably count the letters and multiply the result with the current font size in ems or exs. Then you would just have to test how many letters fit on one line, and then break it up.<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">".figcaption"</span>).each(<span class="function"><span class="keyword">function</span>(<span class="params">i</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> divH = $(<span class="keyword">this</span>).height();</span><br><span class="line">    <span class="keyword">var</span> $p = $(<span class="string">"p"</span>, $(<span class="keyword">this</span>)).eq(<span class="number">0</span>);</span><br><span class="line">    <span class="comment">// $("p", $(this)) 相当于 $(this).find("p") </span></span><br><span class="line">    <span class="keyword">while</span> ($p.outerHeight() &gt; divH) &#123;</span><br><span class="line">        $p.text($p.text().replace(<span class="regexp">/(\s)*([a-zA-Z0-9]+|\W)(\.\.\.)?$/</span>, <span class="string">"..."</span>));</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.figcaption</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#EEE</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">410px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">3em</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">1em</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.figcaption</span> <span class="selector-tag">p</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">1.5em</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="三种阻止事件执行的方式"><a href="#三种阻止事件执行的方式" class="headerlink" title="三种阻止事件执行的方式"></a>三种阻止事件执行的方式</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">event.preventDefault()</span><br><span class="line">event.stopPropagation()</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure>
<p>event.preventDefault() 阻止特定事件的默认行为（只有 cancelable 设置为 true 的事件才可以使用），比如：点击 type=”submit” 的 input 标签提交表单，你在 onclick 事件处理中调用 event.preventDefault() 那么点击 submit 标签就不会提交表单了。不会阻止事件冒泡。</p>
<p>event.stopPropagation() 立即停止事件在 DOM 层次中的传播。不会阻止默认行为。</p>
<p>return false 之后的所有相关的触发事件和动作都不会被执行。<br>阻止事件继续传播，事件冒泡和默认行为都被阻止。</p>
<h4 id="获取屏幕高度宽度"><a href="#获取屏幕高度宽度" class="headerlink" title="获取屏幕高度宽度"></a>获取屏幕高度宽度</h4><p>屏幕分辨率的高： <code>window.screen.height</code><br>屏幕分辨率的宽：<code>window.screen.width</code></p>
<p>网页可见区域宽：<code>document.body.clientWidth</code><br>网页可见区域高：<code>document.body.clientHeight</code></p>
<h4 id="封装Ajax"><a href="#封装Ajax" class="headerlink" title="封装Ajax"></a>封装Ajax</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 封装ajax函数</span></span><br><span class="line"><span class="comment"> * @param &#123;string&#125;opt.type http连接的方式，包括POST和GET两种方式</span></span><br><span class="line"><span class="comment"> * @param &#123;string&#125;opt.url 发送请求的url</span></span><br><span class="line"><span class="comment"> * @param &#123;boolean&#125;opt.async 是否为异步请求，true为异步的，false为同步的</span></span><br><span class="line"><span class="comment"> * @param &#123;object&#125;opt.data 发送的参数，格式为对象类型</span></span><br><span class="line"><span class="comment"> * @param &#123;function&#125;opt.success ajax发送并接收成功调用的回调函数</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">ajax</span>(<span class="params">opt</span>) </span>&#123;</span><br><span class="line">        opt = opt || &#123;&#125;;</span><br><span class="line">        opt.method = opt.method.toUpperCase() || <span class="string">'POST'</span>;</span><br><span class="line">        opt.url = opt.url || <span class="string">''</span>;</span><br><span class="line">        opt.async = opt.async || <span class="literal">true</span>;</span><br><span class="line">        opt.data = opt.data || <span class="literal">null</span>;</span><br><span class="line">        opt.success = opt.success || <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;;</span><br><span class="line">        <span class="keyword">var</span> xmlHttp = <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">if</span> (XMLHttpRequest) &#123;</span><br><span class="line">            xmlHttp = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            xmlHttp = <span class="keyword">new</span> ActiveXObject(<span class="string">'Microsoft.XMLHTTP'</span>);</span><br><span class="line">        &#125;<span class="keyword">var</span> params = [];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> opt.data)&#123;</span><br><span class="line">            params.push(key + <span class="string">'='</span> + opt.data[key]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">var</span> postData = params.join(<span class="string">'&amp;'</span>);</span><br><span class="line">        <span class="keyword">if</span> (opt.method.toUpperCase() === <span class="string">'POST'</span>) &#123;</span><br><span class="line">            xmlHttp.open(opt.method, opt.url, opt.async);</span><br><span class="line">            xmlHttp.setRequestHeader(<span class="string">'Content-Type'</span>, <span class="string">'application/x-www-form-urlencoded;charset=utf-8'</span>);</span><br><span class="line">            xmlHttp.send(postData);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (opt.method.toUpperCase() === <span class="string">'GET'</span>) &#123;</span><br><span class="line">            xmlHttp.open(opt.method, opt.url + <span class="string">'?'</span> + postData, opt.async);</span><br><span class="line">            xmlHttp.send(<span class="literal">null</span>);</span><br><span class="line">        &#125; </span><br><span class="line">        xmlHttp.onreadystatechange = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (xmlHttp.readyState == <span class="number">4</span> &amp;&amp; xmlHttp.status == <span class="number">200</span>) &#123;</span><br><span class="line">                opt.success(xmlHttp.responseText);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 调用方式</span></span><br><span class="line">    ajax(&#123;</span><br><span class="line">        method: <span class="string">'POST'</span>,</span><br><span class="line">        url: <span class="string">'test.php'</span>,</span><br><span class="line">        data: &#123;</span><br><span class="line">            name1: <span class="string">'value1'</span>,</span><br><span class="line">            name2: <span class="string">'value2'</span></span><br><span class="line">        &#125;,</span><br><span class="line">        success: <span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(response)；</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure>
<h4 id="安卓机弹框-软键盘挡住输入框问题修复"><a href="#安卓机弹框-软键盘挡住输入框问题修复" class="headerlink" title="安卓机弹框 软键盘挡住输入框问题修复"></a>安卓机弹框 软键盘挡住输入框问题修复</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">if</span>(<span class="regexp">/Android/</span>.test(navigator.appVersion)) &#123;</span><br><span class="line">   <span class="built_in">window</span>.addEventListener(<span class="string">"resize"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">if</span>(<span class="built_in">document</span>.activeElement.tagName==<span class="string">"INPUT"</span> || <span class="built_in">document</span>.activeElement.tagName==<span class="string">"TEXTAREA"</span>) &#123;</span><br><span class="line">         <span class="built_in">window</span>.setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="built_in">document</span>.activeElement.scrollIntoViewIfNeeded();</span><br><span class="line">         &#125;,<span class="number">0</span>);</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></article></div></main><footer><div class="paginator"><a href="/201707/网站收集/" class="prev">PREV</a><a href="/201707/CSS-代码封装集/" class="next">NEXT</a></div><div class="copyright"><p>© 2016 - 2018 <a href="https://nirodu.com">NiroDu</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>